# API Reference

## Class DictDB

```python
class DictDB:
    def __init__(self) -> None: ...
    def create_table(self, table_name: str, primary_key: str = 'id') -> None: ...
    def drop_table(self, table_name: str) -> None: ...
    def get_table(self, table_name: str) -> Table: ...
    def list_tables(self) -> list[str]: ...
    def save(self, filename: str, file_format: str) -> None: ...
    def load(filename: str, file_format: str) -> DictDB: ...
    async def async_save(self, filename: str, file_format: str) -> None: ...
    async def async_load(filename: str, file_format: str) -> DictDB: ...
```

## Class Table

```python
class Table:
    def __init__(self, name: str, primary_key: str = 'id', schema: dict[str, type] | None = None) -> None: ...
    def insert(self, record: dict) -> None: ...
    def select(self, columns: list[str] | None = None, where: Condition | None = None) -> list[dict]: ...
    def update(self, changes: dict, where: Condition | None = None) -> int: ...
    def delete(self, where: Condition | None = None) -> int: ...
    def all(self) -> list[dict]: ...
    def create_index(self, field_name: str, index_type: str = "hash") -> None: ...
    # Introspection
    def columns(self) -> list[str]: ...
    def count(self) -> int: ...
    def size(self) -> int: ...  # alias of count()
    def __len__(self) -> int: ...
    def indexed_fields(self) -> list[str]: ...
    def has_index(self, field: str) -> bool: ...
    def schema_fields(self) -> list[str]: ...
    def primary_key_name(self) -> str: ...
```

## Condition

```python
class Condition: ...
```

## Exceptions

- `DictDBError`
- `DuplicateKeyError`
- `RecordNotFoundError`
- `SchemaValidationError`
